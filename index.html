<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Comment Widget</title>
    <link href="./assets/css/style.css" rel="stylesheet" />
    <script src="./assets/js/utils/angular.min.js"></script>
    <script src="./assets/js/utils/md5.min.js"></script>
  </head>
  <body>
    <div class="main_wrap" ng-app="comments" ng-controller="commentWidgetCtrl">
      <form class="add-comment" name="commentForm" novalidate="novalidate" ng-submit="commentForm.$valid && addNewComment()" >
        <input type="email" placeholder="Email" ng-model="newComment.author" required="required"/>
        <textarea placeholder="Message" ng-model="newComment.content" required="required"></textarea>
        <button type="submit" ng-disabled="!commentForm.$valid">Submit</button>
        <div class="clear"></div>
      </form>
      <div class="comments_wrap" ng-if="comments.length">
        <ul class="comment-list">
          <li class="comment-block" ng-repeat="comment in comments">
            <div class="comment-avatar">
              <img ng-src="{{ getAvatar(comment.author) }}" alt="{{ comment.author | lowercase}}" >
            </div>
            <div class="comment">
              <div class="author">
                {{ comment.author | lowercase}}
              </div>
              <div class="content">
                <p>
                  {{ comment.content }}
                </p>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <script type="text/javascript" src="./assets/js/app.js"></script>
    <script type="text/javascript" src="./assets/js/services/gravatar.js"></script>
  </body>
</html>
